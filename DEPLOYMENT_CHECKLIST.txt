â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘        DEPLOYMENT CHECKLIST - Dashboard EPMAPS v0.6.7           â•‘
â•‘              PDF Export Feature - Ready for Deploy               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¦ ARCHIVOS MODIFICADOS (Ready to commit & push)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… Dockerfile
   - Agregadas dependencias del sistema: chromium, chromium-driver
   - Necesarias para kaleido (conversiÃ³n de Plotly a imÃ¡genes)

âœ… requirements.txt
   - Cambiado a: plotly[kaleido]>=6.1.1
   - Agregado: reportlab
   - IMPORTANTE: No instalar plotly y kaleido por separado

âœ… ui_components/monthly_report_ui.py
   - MÃ©todo _generate_pdf_report() (landscape, 4 columnas)
   - BotÃ³n PDF junto al tÃ­tulo
   - IntegraciÃ³n con AvailabilityCalculator

âœ… config.yaml
   - VersiÃ³n: v0.6.7

âœ… README.md
   - Nuevas caracterÃ­sticas documentadas
   - Notas de instalaciÃ³n actualizadas

âœ… CLAUDE.md
   - SecciÃ³n de troubleshooting PDF
   - Versiones compatibles documentadas

âœ… DEVELOPMENT_HISTORY.md
   - v0.6.7 completamente documentada

ğŸ“ ARCHIVOS NUEVOS (Ready to commit)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… DEPLOY_NOTES.md
   - GuÃ­a completa de deployment
   - Troubleshooting de problemas comunes
   - Checklist de verificaciÃ³n

âœ… ScriptsUtil/test_pdf_generation.py
   - Script de prueba de generaciÃ³n PDF
   - Verifica imports y compatibilidad

âœ… SESSION_SUMMARY_v0.6.7.md
   - Resumen completo de la sesiÃ³n

âœ… DEPLOYMENT_CHECKLIST.txt (este archivo)

ğŸ§ª TESTS EJECUTADOS (Local)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… test_pdf_generation.py - PASSED
âœ… Python imports - OK
âœ… Plotly to image conversion - OK (15260 bytes)
âœ… ReportLab PDF generation - OK (13483 bytes)
âœ… Syntax check - OK (py_compile)

ğŸ“Š VERSIONES VERIFICADAS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… Plotly: 6.4.0
âœ… Kaleido: 1.2.0
âœ… ReportLab: 4.4.4
âœ… Python: 3.11

ğŸš€ DEPLOYMENT WORKFLOW (GitHub Actions)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

El workflow .github/workflows/deploy.yml:
1. âœ… Hace checkout del cÃ³digo
2. âœ… Construye imagen Docker (usa Dockerfile actualizado)
3. âœ… Empuja a ECR (687634808667.dkr.ecr.us-east-1.amazonaws.com)
4. âœ… Actualiza task definition
5. âœ… Despliega a ECS/Fargate
6. âœ… Espera estabilidad del servicio

âš ï¸ NOTAS IMPORTANTES
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1. Recursos recomendados en ECS:
   - CPU: 2048 (2 vCPU) - mÃ­nimo
   - Memory: 4096 (4GB) - mÃ­nimo
   - GeneraciÃ³n de PDF puede requerir recursos adicionales

2. Chromium en el contenedor:
   - Dockerfile instala chromium automÃ¡ticamente
   - Necesario para kaleido
   - Aumenta tamaÃ±o de imagen (~100MB adicionales)

3. Compatibilidad:
   - USAR: plotly[kaleido]>=6.1.1
   - NO USAR: plotly + kaleido por separado
   - Previene: ImportError de broadcast_args_to_dicts

ğŸ“‹ PASOS PARA DEPLOYMENT
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1. Commit & Push:
   git add .
   git commit -m "Add PDF export functionality (v0.6.7)"
   git push origin main

2. GitHub Actions automÃ¡ticamente:
   - Construye imagen Docker
   - Empuja a ECR
   - Despliega a ECS/Fargate

3. Verificar deployment:
   - GitHub Actions log (verde = exitoso)
   - CloudWatch logs: aws logs tail /ecs/streamlit-dashboard-task --follow
   - Probar PDF en la app

ğŸ” POST-DEPLOYMENT VERIFICATION
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

[ ] GitHub Actions workflow completado exitosamente
[ ] Nueva imagen visible en ECR
[ ] ECS service actualizado (desired count = running count)
[ ] AplicaciÃ³n accesible vÃ­a ALB
[ ] Navegar a "Informe Mensual"
[ ] Seleccionar fechas y consultar ping
[ ] BotÃ³n "ğŸ“„ PDF" visible junto al tÃ­tulo
[ ] Click en PDF descarga archivo correctamente
[ ] PDF abre con grÃ¡ficos visibles (landscape, 4 columnas)
[ ] No errores en CloudWatch logs relacionados con kaleido

ğŸ†˜ TROUBLESHOOTING (si hay problemas)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Si falla el build:
â†’ Revisar GitHub Actions logs
â†’ Verificar Dockerfile syntax
â†’ Verificar requirements.txt format

Si falla imports en runtime:
â†’ Conectar al contenedor
â†’ Ejecutar: python -c "import plotly; from reportlab.platypus import SimpleDocTemplate"
â†’ Si falla: reinstalar con pip install 'plotly[kaleido]>=6.1.1'

Si PDF no se genera:
â†’ CloudWatch logs: buscar errors de kaleido
â†’ Verificar recursos (CPU/Memory suficientes)
â†’ Test local: python ScriptsUtil/test_pdf_generation.py

ğŸ“ SOPORTE
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

DocumentaciÃ³n completa en:
- DEPLOY_NOTES.md (troubleshooting detallado)
- DEVELOPMENT_HISTORY.md (v0.6.7)
- SESSION_SUMMARY_v0.6.7.md (resumen completo)
- CLAUDE.md (guÃ­a general del proyecto)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ… READY FOR DEPLOYMENT
Version: v0.6.7
Date: 2025-11-11
Feature: PDF Export with Landscape Layout (4 columns)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
